<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
        <title>newT.js - Tasty JavaScript Templates</title>
        <link rel="stylesheet" href="static/css/master.css" type="text/css" media="screen" charset="utf-8">
        <link rel="stylesheet" href="static/css/pygments_style.css" type="text/css" media="screen" charset="utf-8">
    </head>
    <body>
                
<div id="container">
    <div id="top">
        <h1>newT.js</h1>
        <p>Tasty JavaScript Templating.</p>
    </div>

    <div id="middle" class="main_content">
        <div class="display_box">
            <p>
            You love building JavaScript apps. Armed with the latest
            tools, you're dying for a tasty little JS template that has
            a friendly syntax, low learning curve and lots of room to
            grow. Enter <a href="https://raw.github.com/jeffreytierney/newT/master/newT.js">newT.js</a>, tasty JavaScript templating.
            </p>

            <p>With a style initially inspired by the ruby templating language <a href="http://haml-lang.com/" title="Haml">Haml</a>, 
            and subsequently, <a href="http://edspencer.net/2009/11/jaml-beautiful-html-generation-for-javascript.html" title="Jaml">Jaml</a>, 
            newT.js is a pure JS templating engine with the power and flexibility you need to build
            powerful, responsive, asynchronous JavaScript applications.
            </p>
            
            <p>
            newT.js syntax eliminates the tedious closing and balancing of HTML tags  
            while providing a simple way to create elements and define attributes on them.
            The source is tiny (4.6KB, less than 2KB gzipped), but it provides you with flexible template
            options, and is designed to help you build a safer site, arming you 
            in the fight against persistent <a href="http://en.wikipedia.org/wiki/Cross-site_scripting" title="XSS on Wikipedia">XSS</a> attacks.
            </p>


            <p>How do you get all these awesome features? Easy, <a
                href="https://raw.github.com/jeffreytierney/newT/master/newT.min.js">get
            newT.js</a> and follow the instructions below for tasty JS templating</p>

        </div>

        <h2>Add newT.js</h2>
        <div class="">
            <p>To get started, add newT.js to your page. </p>
            <code type="html" class="syntax">
<div class="highlight"><pre><span class="nt">&lt;script </span><span
class="na">src=</span><span class="s">&quot;newT.min.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

            </code>
        </div>

        <div id="">
            <p>Using newT.js is simple... there are just 2 basic steps</p>
            <ol>
                <li>Save a Template</li>
                <li>Render a Template</li>
            </ol>
            
        </div>

        <div id="" class="display_box">
            <h2>Save a newT.js Template</h2>
            <p>No overview or tutorial would be complete without a cheesy hello world
example. Let's start with a simple template, a DIV with some dynamically
injected text for flavor.</p>
            <code class="syntax">

<div class="highlight"><pre><span class="nx">newT</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;helloworld&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span> <span class="nx">data</span><span class="p">.</span><span class="nx">text</span> <span class="p">);</span>
<span class="p">});</span>
</pre></div>

            </code>

            <p>
            Let's review what just happened. the <b>newT.save</b> method takes two
            arguments. The first is the name of the template. We can
            reference any newT.js template later using this name. </p>

            <p>The second argument is an anonymous function.  You could also use a 
                previously created named function. We'll use
            this function later to pass in some dynamic data. This
            anonymous function will return our hello world template,
            ready for DOM insertion. Here, we are using a simple DIV,
            let's not get too crazy, yet!</p>

        </div>

        <div id="" class="display_box">
            <h2>Render a newT.js Template</h2>
            <p>Onto step #2, rendering the cheesy hello world example.</p>

            <code class="syntax">

<div class="highlight"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> 
    <span class="nx">newT</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span> <span class="s2">&quot;helloworld&quot;</span> <span class="p">{</span> 
        <span class="nx">text</span> <span class="o">:</span> <span class="s2">&quot;hello newT world!&quot;</span> 
    <span class="p">})</span>
<span class="p">);</span>
</pre></div>
            
            </code>
            <p>This call adds a new DIV element to the body element with the hello
world text.</p>
<code class="syntax">
<div class="highlight"><pre><span class="nt">&lt;div&gt;</span>hello newT world!&quot;<span class="nt">&lt;/div&gt;</span>
</pre></div>

            </code>
            <p>Pretty painless, right? Since newT.js always returns a valid
            DOM fragment or element, it's easy to just append it to any
            element, in this case, the body tag.</p>
        </div>

        <div id="" class="display_box">
            <h2>Going Deeper with newT.js</h2>
            <p>Rendering a single element is great, but it's much more
            likely you'll need to create a more complex HTML structure.
            Let's make a more robust hello world.</p>
            <p>First, save a new template.</p>

            <code class="syntax">
<div class="highlight"><pre><span class="nx">newT</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;my_template&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">t_data</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">({</span><span class="nx">clss</span> <span class="o">:</span> <span class="s2">&quot;outerdiv&quot;</span> <span class="p">},</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">,</span> 
            <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span> <span class="p">{</span><span class="nx">clss</span> <span class="o">:</span> <span class="s2">&quot;innerdiv1&quot;</span> <span class="p">},</span> <span class="nx">t_data</span><span class="p">.</span><span class="nx">foo</span> <span class="p">),</span> 
            <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span> <span class="nx">t_data</span><span class="p">.</span><span class="nx">bar</span> <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">my_data</span><span class="o">=</span><span class="p">{</span> <span class="nx">foo</span> <span class="o">:</span> <span class="s2">&quot;newT hello world&quot;</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">:</span> <span class="s2">&quot;w00t!&quot;</span> <span class="p">};</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> 
    <span class="nx">newT</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;my_template&quot;</span><span class="p">,</span> <span class="nx">my_data</span> <span class="p">)</span> 
<span class="p">);</span>
</pre></div>


            </code>
            <p>Two items to mention</p>
            <ul>
                <li>The first argument of any element method,
                such as <b>newT.div</b>, is an
                optional attributes object</li>
                <li>Note the use of <b>clss</b> instead of class to set
                an element's class name attribute</li>
            </ul>

            <p>Now, let's review. Saving a template looks the same,
            give it a name and a render method. In this case,
            <b>my_template</b> and an anonymous function. This method must
            return a DOM element or fragment.</p>

            <p>The HTML structure is a little more complex in
            appearance, but it's
            also very simple. The first element method sets a CSS class of
            <b>outerdiv</b>. The second argument is the string we want to
            appear inside this DIV. The 3rd and 4th arguments will be
            children elements of <b>outerdiv</b>. An example of the HTML
            output will help clarify.</p>

            <code class="syntax">
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;outerdiv&quot;</span><span class="nt">&gt;</span>Hello World!
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;innerdiv1&quot;</span><span class="nt">&gt;</span>newT hello world<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div&gt;</span>w00t!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
            
            </code>
            <p><a href="examples/helloworld.html">See the example</a> and
            <a href="https://github.com/jeffreytierney/newT/blob/master/examples/helloworld.html">grab the
                code</a>.</p>
                
            <p>As you see in this example, <b>newT.div</b> can accept
            any number of arguments. In the above, the first argument is
            an object literal, which defines all attributes to be added to
            the element. All additional arguments become children of
            this element. These arguments can be any format:  string,
            number, DOM elements or a function. This pattern syntax can
            be repeated indefinitely, allowing for robust DOM
            structures, while being flexible to your development needs.</p>
            
        </div>

<div class="display_box">
    <h2>No Root Node with newT.js</h2>

<p>
    Sometimes we have a situation where we want a template to return multiple nodes, with no individual parent node defined in the template. 
    For example if we are creating a template to replace the items in a list without recreating the list itself. 
    We can just tell newT.js to return an array, and newT.js is smart
    enough to automatically convert the result to a DOM fragment. Take a look at the below example.
</p>

<code class="syntax">
<div class="highlight"><pre><span class="nx">newT</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;top_level&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">([</span>
        <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="s2">&quot;one&quot;</span><span class="p">),</span>
        <span class="nx">newT</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="s2">&quot;two&quot;</span><span class="p">)</span>
    <span class="p">])</span>
<span class="p">})</span>
        
<span class="kd">var</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="nx">newT</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;top_level&quot;</span><span class="p">,</span> <span class="p">{});</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">nodes</span> <span class="p">);</span>
</pre></div>

</code>

            <p><a href="examples/top_level.html">See the example</a> and
            <a
                href="https://github.com/jeffreytierney/newT/blob/master/examples/top_level.html">grab the
                code</a>.</p>


</div>

<div class="display_box">
    <h2>Using newT.eachRender and partials</h2>
    <p>Let's face it, looping over lists is a common action, but with newT.js
    building DOM lists can be quick and painless.  Take a look at the
    <b>newT.eachRender</b> method.</p>
    <code class="syntax">
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">a_list_data</span><span class="o">=</span><span class="p">[{</span>
    <span class="nx">foo</span> <span class="o">:</span> <span class="s2">&quot;one&quot;</span>
<span class="p">},{</span>
    <span class="nx">foo</span> <span class="o">:</span> <span class="s2">&quot;two&quot;</span>
<span class="p">},{</span>
    <span class="nx">foo</span> <span class="o">:</span> <span class="s2">&quot;three&quot;</span>
<span class="p">}];</span>


<span class="nx">newT</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;items_list&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="nx">newT</span><span class="p">.</span><span class="nx">li</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">foo</span> <span class="o">+</span> <span class="s2">&quot; - yey!&quot;</span><span class="p">)</span>
    <span class="p">)</span>

<span class="p">});</span>

<span class="nx">newT</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s2">&quot;a_list&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">newT</span><span class="p">.</span><span class="nx">ul</span><span class="p">(</span> <span class="p">{</span><span class="nx">clss</span> <span class="o">:</span> <span class="s2">&quot;a_list_class&quot;</span><span class="p">},</span>
        <span class="nx">newT</span><span class="p">.</span><span class="nx">eachRender</span><span class="p">(</span> <span class="nx">data</span><span class="p">,</span> <span class="s2">&quot;items_list&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">});</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> 
    <span class="nx">newT</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;a_list&quot;</span><span class="p">,</span> <span class="nx">a_list_data</span><span class="p">)</span> 
<span class="p">);</span>
</pre></div>

    </code>
    <p>We are going to use two newT templates. <b>items_list</b>, which is a partial that 
    produces just a list item, and <b>a_list</b>, which is the parent
    template that will use <b>newT.eachRender</b>
    to loop through the data passed in, rendering the partial template for each object in the <b>a_list_data</b> array.</p>

    <p><a href="examples/each_render.html">See the example</a> and
    <a href="https://github.com/jeffreytierney/newT/blob/master/examples/each_render.html">grab the code</a>.</p>

        </div>

    <div class="display_box">
        <h2>What else can newT.js do?</h2>
        <p>No template library would be complete without a little
        flexiblity. And, no template library would be awesome without a
        lot of flexibility, newT.js gives you both.</p>

        <p>While a full and complete description of newT.js
        functionality is best described by the <a href="https://github.com/jeffreytierney/newT/blob/master/newT.js">source code</a>. Let's
        enumerate a few handy features and review how to leverage them.</p>

        <ol>
            <li>Safe Mode</li>
            <li>No Conflict mode</li>
            <li>Template conditionals</li>
            <li>newT.extend</li>
            <li>newT.render options</li>
            <li>Template namespace</li>
        </ol>

        <p></p>
    </div>


        <div>
            <h2>Using newT.js in Widgets</h2>
            <p>Of course newT.js can be used in widgets! Why wouldn't
            it? Check out the obligatory <a
                href="examples/twitter_wdgt.html">twitter widget</a>. <a
                href="https://github.com/jeffreytierney/newT/blob/master/examples/twitter_wdgt.html">Grab
                the code</a>, and try it out.</p>
        </div>


        <div>
            <h2>Building Applications with newT.js</h2>
            <p>Building full featured JS applications is hard work, but
            it shouldn't be! Make rendering DOM elements a joy by using
            newT.js. Flexible and reusable templates are
            within reach. Check out this  <a
                href="examples/slideshow_wdgt.html">Cute Kitten
                Slideshow</a> to see a demo of a more complex
            application leveraging newT.js. <a
                href="https://github.com/jeffreytierney/newT/blob/master/examples/slideshow_wdgt.html">Grab the code</a> and give it a try!</p>
            
           
        </div>
        <div class="display_box">
            <h2>More Examples</h2>
            <p>We're just getting started! You can find even more examples in the <a href="https://github.com/jeffreytierney/newT/tree/master/examples">newT.js examples
                folder</a>. Or, have a look at the <a href="https://github.com/jeffreytierney/newT/blob/master/newT.js">source code</a>. As always
        feel free to hit us up on Twitter. <a href="http://twitter.com/jeffreytierney">@jeffreytierney</a> and <a
            href="http://twitter.com/gregory80">@gregory80</a> </p>
            

        <ul>
            <li><a href="examples/helloworld.html">Hello World</a></li>
            <li><a href="examples/top_level.html">No Root Node</a></li>
            <li><a href="examples/each_render.html">Each Render</a></li>
            <li><a href="examples/nested_iteration.html">Nested Iteration</a></li>
            <li><a href="examples/auto_append.html">Auto Append</a></li>
            <li><a href="examples/xss_defend.html?both=false">Using Safe Mode and
                XSS Defense</a></li>

        </ul>

        <p>Or if you are so inclined, you can <a href="/test/test_newt.html">run the unit tests</a> for newT.js yourself. Having an issue? Need an improvement? <a href="https://github.com/jeffreytierney/newT/issues">file on issue</a>.</p>

        <p><a href="https://github.com/jeffreytierney/newT/zipball/master">Download
    newT.zip</a> | <a href="https://github.com/jeffreytierney/newT/tarball/master">Download
    newT.tar.gz </a></p>


        </div>
     </div> <!-- end #middle -->
    <div id="footer">
        © Copyright 2011. Lovingly crafted in the Greater New York Area. 
    </div>
        
</div>
<!-- fork me -->
<a href="https://github.com/jeffreytierney/newT"><img style="position: fixed; top: 0; right: 0; border: 0;"
  src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12080344-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>



            
    </body>
</html>


